import{d as e,k as t,l as a,j as n,m as s,e as r,o,p as i,i as l,F as d,r as p,a as m,q as c,t as f,n as g,c as u,s as x,v as h,w as y,x as k}from"./app-dwpF1lCx.js";const v={class:"posts"},w={key:0,class:"py2 op50"},b={class:"no-underline flex flex-col md:flex-row gap-2 md:items-center"},z={class:"title text-lg leading-1.2em flex gap-2 wrap"},D={key:0,class:"align-middle flex-none text-xs bg-zinc:15 text-zinc5 rounded px-1 py-0.5 ml--12 mr2 my-auto hidden md:block"},S={class:"align-middle tracking-wider"},_={class:"flex gap-2 items-center op50 text-sm font-light font-serif-extra font-italic"},I={key:0,class:"align-middle op50 flex-none text-xs ml--1 mt--1 i-carbon-arrow-up-right",title:"External"},L={key:1,class:"i-ri:group-2-line align-middle op50 flex-none",title:"In person"},P={key:2,class:"i-ri:film-line align-middle op50 flex-none",title:"Provided in video"},j={key:3,class:"i-ri:radio-line align-middle op50 flex-none",title:"Provided in radio"},E={key:4,class:"ws-nowrap"},F={key:5,class:"op80 ws-nowrap"},R={key:6,class:"op80 ws-nowrap"},U={key:7,class:"op80 ws-nowrap"},W={key:8,class:"align-middle flex-none text-xs bg-zinc:15 text-zinc5 rounded px-1 py-0.5 my-auto md:hidden"},q=e({__name:"ListPosts",props:{type:{},posts:{},extra:{}},setup(e){const q=e,O=t().getRoutes().filter(e=>{var t,a;return((null==(t=e.name)?void 0:t.toString().startsWith("posts-"))||(null==(a=e.name)?void 0:a.toString().startsWith("notes-")))&&e.meta.frontmatter.date&&!e.meta.frontmatter.draft}).filter(e=>!e.path.includes(".html")&&(e.meta.frontmatter.type||"blog").split("+").includes(q.type)).map(e=>({path:e.meta.frontmatter.redirect||e.path,title:e.meta.frontmatter.title,date:e.meta.frontmatter.date,lang:e.meta.frontmatter.lang,duration:e.meta.frontmatter.duration,recording:e.meta.frontmatter.recording,upcoming:e.meta.frontmatter.upcoming,redirect:e.meta.frontmatter.redirect,place:e.meta.frontmatter.place})),Y=a(()=>[...q.posts||O,...q.extra||[]].sort((e,t)=>+new Date(t.date)-+new Date(e.date)).filter(e=>!n.value||"zh"!==e.lang)),A=e=>new Date(e).getFullYear(),B=e=>e&&new Date(e)>new Date;function C(e,t){return B(e.date)===B(null==t?void 0:t.date)&&((e,t)=>e&&t&&A(e)===A(t))(e.date,null==t?void 0:t.date)}function G(e){return B(e.date)?"Upcoming":A(e.date)}return s(()=>{sessionStorage.getItem("visited-notes")?document.documentElement.classList.add("no-sliding"):sessionStorage.setItem("visited-notes",(new Date).toISOString())}),(e,t)=>(o(),r("ul",v,[l(Y).length?i("",!0):(o(),r("div",w," { nothing here yet } ")),(o(!0),r(d,null,p(l(Y),(e,t)=>(o(),r(d,{key:e.path},[C(e,l(Y)[t-1])?i("",!0):(o(),r("div",{key:0,class:"select-none relative h20 pointer-events-none slide-enter",style:c({"--enter-stage":t-2,"--enter-step":"60ms"})},[m("span",{class:g(["absolute left--3rem top--2rem op-40 color-transparent font-serif-extra font-italic text-8em text-stroke-1 text-shadow text-stroke-hex-aaa",{"max-sm:text-5.4em":"Upcoming"===G(e)}])},f(G(e)),3)],4)),m("div",null,[(o(),u(x(e.path.includes("://")?"a":"RouterLink"),h({ref_for:!0},e.path.includes("://")?{href:e.path,target:"_blank",rel:"noopener noreferrer"}:{to:e.path},{class:"item block mb-6 mt-2 no-underline"}),{default:y(()=>[m("li",b,[m("div",z,["zh"===e.lang?(o(),r("span",D,"中文")):i("",!0),m("span",S,f(e.title),1)]),m("div",_,[e.redirect?(o(),r("span",I)):i("",!0),e.inperson?(o(),r("span",L)):i("",!0),e.recording||e.video?(o(),r("span",P)):i("",!0),e.radio?(o(),r("span",j)):i("",!0),e.date?(o(),r("span",E,f(l(k)(e.date,!0)),1)):i("",!0),e.duration?(o(),r("span",F,"· "+f(e.duration),1)):i("",!0),e.platform?(o(),r("span",R,"· "+f(e.platform),1)):i("",!0),e.place?(o(),r("span",U,f(e.place),1)):i("",!0),"zh"===e.lang?(o(),r("span",W," 中文 ")):i("",!0)])])]),_:2},1040))])],64))),128))]))}});export{q as _};
