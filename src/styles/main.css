:root {
  --c-bg: #eee;
  --c-scrollbar: #ddd;
  --c-scrollbar-hover: #bbb;
}

html {
  background-color: var(--c-bg);
  filter: contrast(110%) brightness(100%);
  /* background:
    radial-gradient(circle at -8% 2%, color-mix(in xyz, var(--c-bg), rgba(0,0,0,0.8)), var(--c-bg)),
    url("data:image/svg+xml,%3Csvg viewBox='0 0 250 250' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='2.25' numOctaves='1' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E"); */
  overflow-x: hidden;
  overflow-y: scroll;
  --fg: #444;
  --fg-deep: #222;
  --fg-deeper: #111;
  scrollbar-gutter: stable;
  --fonts-sans:
    ModernGothic, Inter, Helvetica, 'Helvetica Neue', Arial, ui-sans-serif, system-ui, -apple-system, 'Segoe UI',
    Roboto, 'Noto Sans', sans-serif;
  --fonts-serif: BradfordLL, Ogg, 'Times New Roman', Georgia, serif;
  --fonts-serif-extra: Ogg, 'Times New Roman', Georgia, serif;
  --fonts-mono:
    BradfordMonoLL, ModernGothicMono, ui-monospace, 'Fragment Mono', 'Fira Code', 'SF Mono', 'Cascadia', monospace;

  &:has(.lightbox) {
    overflow: hidden;
  }

  &.dark {
    --c-bg: #050505;
    --c-scrollbar: #111;
    --c-scrollbar-hover: #222;
    --fg: #bbb;
    --fg-deep: #ddd;
    --fg-deeper: #eee;
  }

  &:not(.dark) {
    [img-dark] {
      display: none;
    }
  }
}

::selection {
  background: #8884;
}

#nprogress {
  pointer-events: none;

  .bar {
    background: #888;
    opacity: 0.75;
    position: fixed;
    z-index: 1031;
    top: 0;
    left: 0;
    width: 100%;
    height: 2px;
  }
}

* {
  scrollbar-color: var(--c-scrollbar) var(--c-bg);
}

.sponsorkit {
  &-avatar {
    cursor: pointer;
  }

  &-tier-title {
    font-weight: 600;
    font-size: 20px;
    fill: currentColor;
  }

  &-name {
    font-weight: 300;
    font-size: 15px;
    transform: translateY(8px);
  }
}

::-webkit-scrollbar {
  width: 6px;

  &:horizontal {
    height: 6px;
  }

  &-track,
  &-corner {
    background: var(--c-bg);
    border-radius: 10px;
  }

  &-thumb {
    background: var(--c-scrollbar);
    border-radius: 10px;

    &:hover {
      background: var(--c-scrollbar-hover);
    }
  }
}

.dark {
  [img-light] {
    display: none;
  }
}

@keyframes slide-enter {
  0% {
    opacity: 0;
  }

  to {
    opacity: 100;
  }
}

@media (prefers-reduced-motion: no-preference) {
  html:not(.no-sliding) {
    [slide-enter],
    .slide-enter,
    .slide-enter-content > *:not(:has(.table-of-contents)) {
      --enter-stage: 0;
      --enter-step: 100ms;
      --enter-initial: 0ms;
      animation: slide-enter 1s both 1;
      animation-delay: calc(var(--enter-initial) - var(--enter-stage) * var(--enter-step));
    }
  }

  .slide-enter-content > * {
    &:nth-child(1) {
      --enter-stage: 1 !important;
    }

    &:nth-child(2) {
      --enter-stage: 2 !important;
    }

    &:nth-child(3) {
      --enter-stage: 3 !important;
    }

    &:nth-child(4) {
      --enter-stage: 4 !important;
    }

    &:nth-child(5) {
      --enter-stage: 5 !important;
    }

    &:nth-child(6) {
      --enter-stage: 6 !important;
    }

    &:nth-child(7) {
      --enter-stage: 7 !important;
    }

    &:nth-child(8) {
      --enter-stage: 8 !important;
    }

    &:nth-child(9) {
      --enter-stage: 9 !important;
    }

    &:nth-child(10) {
      --enter-stage: 10 !important;
    }

    &:nth-child(11) {
      --enter-stage: 11 !important;
    }

    &:nth-child(12) {
      --enter-stage: 12 !important;
    }

    &:nth-child(13) {
      --enter-stage: 13 !important;
    }

    &:nth-child(14) {
      --enter-stage: 14 !important;
    }

    &:nth-child(15) {
      --enter-stage: 15 !important;
    }

    &:nth-child(16) {
      --enter-stage: 16 !important;
    }

    &:nth-child(17) {
      --enter-stage: 17 !important;
    }

    &:nth-child(18) {
      --enter-stage: 18 !important;
    }

    &:nth-child(19) {
      --enter-stage: 19 !important;
    }

    &:nth-child(20) {
      --enter-stage: 20 !important;
    }
  }
}

::view-transition-old(root),
::view-transition-new(root) {
  animation: none;
  mix-blend-mode: normal;
}

::view-transition-old(root) {
  z-index: 1;
}

::view-transition-new(root) {
  z-index: 9999;
}

.dark {
  &::view-transition-old(root) {
    z-index: 9999;
  }

  &::view-transition-new(root) {
    z-index: 1;
  }
}

/* Overrides Floating Vue */
.v-popper {
  &--theme-dropdown,
  &--theme-tooltip {
    .v-popper__inner {
      --at-apply: bg-base text-base rounded border border-base shadow;
      box-shadow: 0 6px 30px #0000001a;
    }

    .v-popper__arrow-inner {
      visibility: visible;
      --at-apply: border-white dark: border-black;
    }

    .v-popper__arrow-outer {
      --at-apply: border-base;
    }
  }

  &--theme-tooltip {
    &.v-popper--shown,
    &.v-popper--shown * {
      transition: none !important;
    }
  }
}

/* Transitions */
.fade {
  &-enter-active,
  &-leave-active {
    transition: opacity 0.1s ease;
  }

  &-enter-from,
  &-leave-to {
    opacity: 0;
  }
}

h1 {
  font-weight: 500;
}

h2 {
  font-weight: 500;

  + p > em:first-child {
    opacity: 0.5;
    display: block;
    margin-top: -20px;
    font-size: 0.9em;
  }
}

h3 {
  font-weight: 400;
}

h4 {
  font-weight: 400;
}

h5 {
  font-weight: 300;
}

iframe {
  backdrop-filter: blur(2px);
  border: 1px dashed var(--fg);
  margin: calc(1.75rem - 2px) 1.75rem;
  user-select: none;

  &:hover {
    border: 1px solid var(--fg);
  }
}
